CREATE TABLE Transacao (
    Transaction_ID INT AUTO_INCREMENT PRIMARY KEY,
    Game_ID INT NOT NULL,
    Distributor_ID INT NOT NULL,
    Preco_ID INT NOT NULL,  -- Nova coluna para linkar o preço
    Transaction_Type ENUM('Licensing', 'Revenue Share', 'Other') NOT NULL,
    Transaction_Date DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (Game_ID) REFERENCES Jogo(App_ID),
    FOREIGN KEY (Distributor_ID) REFERENCES Publisher(Publisher_ID),
    FOREIGN KEY (Preco_ID) REFERENCES Preco(Preco_ID)  -- Referência ao Preco_ID da tabela Preco
);

SELECT 
    t.Transaction_ID, 
    t.Game_ID, 
    t.Distributor_ID, 
    t.Transaction_Type, 
    t.Transaction_Date,
    pr.Preco AS Preco_do_Jogo
FROM Transactions t
JOIN Preco pr ON t.Preco_ID = pr.Preco_ID
JOIN Jogo j ON t.Game_ID = j.App_ID;
